{% extends 'shop/base.html' %}
{% load static %}
{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col-sm mb-2 product_head">
      <p>{% if category %}{{ category.name }}{% else %}Products{% endif %}</p>
    </div>
  </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-4">
              <ul class="list-group shadow-sm">
                <li class="list-group-item">
                  <a href="{% url 'shop:product_list' %}"{% if not category %}{% endif %}><h4>Categories:</h4></a>
                </li>
              {% for c in categories %}
                <li class="list-group-item" {% if category.slug == c.slug %}{% endif %}>
                  <a href="{{ c.get_absolute_url }}">- {{ c.name }}</a>
                </li>
              {% endfor %}
                </ul>
            </div>
        <div class="col">
            <div id="carouselExampleInterval" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active" data-interval="10000">
                  <img src="{% static 'img/no_image.png' %}" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item" data-interval="2000">
                  <img src="{% static 'img/no_image.png' %}" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="{% static 'img/no_image.png' %}" class="d-block w-100" alt="...">
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleInterval" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleInterval" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
        </div>
    </div>
        <div class="row mt-4">
        {% for product in products %}
        <div class="col-md-4 mt-4">
            <div class="card shadow-sm">
              <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/no_image.png' %}{% endif %}">
              <div class="card-body">
                  <span class="card-title"><a href="{{ product.get_absolute_url }}">{{ product.name }}</a></h5>
                <p class="card-text">{{ product.description }}</p>
              </div>
              <div class="card-body">
                <a href="#" class="disabled">Another link</a>
                <a href="{% url 'cart:cart_add' product.id %}" class="btn btn-primary">Another link</a>
              </div>

                </div>
            </div>
        {% endfor %}
        </div>
    </div>
</div>
<!--            {% for product in products %}-->
<!--        <div class="col-4 col-sm-4">-->

<!--          <div class="card shadow-sm">-->

<!--            <div class="card-image">-->
<!--              <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/no_image.png' %}{% endif %}">-->
<!--            </div>-->
<!--            <span class="card-title"><a href="{{ product.get_absolute_url }}">{{ product.name }}</a></span>-->
<!--            <div class="card-text">-->
<!--              <p>{{ product.description }}</p>-->
<!--            </div>-->
<!--            <div class="card-action">-->
<!--              <p>Cena: {{ product.price }}</p>-->
<!--              <a href="#">Dodaj do koszyka</a>-->
<!--            </div>-->
<!--          </div>-->
<!--          </div>-->
<!--        </div>-->
<!--        </div>-->
<!--      {% endfor %}-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
{% endblock %}